@page "/"
@using System.Text.Json
@using BlazorPortfolio.Models;
@using BlazorPortfolio.Components;
@using System.Globalization
@inject NavigationManager NavigationManager
@inject IJSRuntime JS
@inject HttpClient HttpClient;
<PageTitle>Jordy Schoolmeesters — Computing Science</PageTitle>

<div class="w-full relative">

   <div class="pt-[4rem] relative"> 

      <div class="">

         @* Hero section *@
         <section class="my-0 py-0 flex flex-col w-full">

            <div class="pb-3">
               <div class="h-[14rem] relative mb-3">
                  <div class="tip1 absolute bottom-24 right-[20%] margin-right-[-30px] left-auto top-auto">
                     <span class="bg-[#e6ff9a] px-1 py-0.5">Bold & Memorable</span>
                  </div>

                  <div class="tip1 absolute bottom-16 left-0 margin-left-[-30px] right-auto top-auto">
                     <span class="bg-[#ffd867] px-1 py-0.5">Roermond, NL</span>
                  </div>

                  <div class="tip1 absolute bottom-8 right-[10%] margin-right-[-30px] left-auto top-auto">
                     <span class="bg-[#eca2f4] px-1 py-0.5">Brand Identity</span>
                  </div>

                  <div class="tip1 absolute bottom-0 right-0 margin-right-[-30px] left-auto top-auto">
                     <span class="bg-[#bdef74] px-1 py-0.5">Creative Webdesign Agency</span>
                  </div>
               </div>


               <h1 class="about-first gsap-lines gsap-animate-transition text-[2.9rem] tracking-[-0.07em] leading-[0.75]">
                  <div class="gsap-line">
                     <div class="gsap-line-inner inferi-normal">
                        Unlock Your <span class="inferi-normal-italic">Digital Potential</span>
                     </div>
                  </div>
               </h1>
            </div>

            <div class="border-bottom h-[1px] w-full bg-black dark:bg-white"></div>
            @*<div class="border-bottom gsap-animate-transition h-[1px] w-full bg-black dark:bg-white"></div>*@

         </section>

         @* Highlighted projects section *@
         <section class="mt-3 py-0 space-y-6">
            <div class="">
               <img src="media/services2.jpg" class="w-full"/>
               <p class="leading-tight mt-3"><span class="font-bold">Wander</span> — Combining nature with a direct user experience.</p>
            </div>

            <div class="">
               <img src="media/services1.jpg" class="w-full"/>
               <p class="leading-tight mt-3"><span class="font-bold">Evermore</span> — Lorem ipsum dolor Studio amet.</p>
            </div>

         </section>

         @* About section *@
         <section class="dark mb-0 py-24 space-y-6">
            <h3 class="text-[rgb(145,145,145)] text-3xl leading-none inferi-normal tracking-[-0.015em]">
               Did you know most web design companies actually sell pre-made websites?
            </h3>
            <h3 class="text-3xl leading-none inferi-normal tracking-[-0.015em]">
               We believe that your company deserves better.
            </h3>
            <h3 class="text-xl leading-none inferi-normal tracking-[-0.015em]">
               By working closely with our clients we create websites, brands or strategies that truly resonate—not just with them, but most importantly, with their audience. 
            </h3>
            <h3 class="text-xl leading-none inferi-normal tracking-[-0.015em]">
               We are a small agile team specializing in creating bold modern designs that emphasize functionality and clearly communicate your brand's values.
            </h3>
            <h3 class="text-xl leading-none inferi-normal tracking-[-0.015em]">
               So don't just settle for "good enough", and <span class="underline">let's create something amazing together</span>.
            </h3>
         </section>


         @* Services section *@
         <section class="mb-0 flex flex-col w-full">

            <h1 class="mb-3 about-first gsap-lines gsap-animate-transition text-4xl tracking-[-0.035em] leading-none">
               <div class="gsap-line">
                  <div class="gsap-line-inner">
                     Services
                  </div>
               </div>
            </h1>

            @*<div class="border-bottom h-[1px] w-full bg-black dark:bg-white"></div>*@

            @*
            <div class="gsap-line">
                  <h2 class="gsap-line-inner text-sm p-0 m-0 mb-3 text-[rgb(145,145,145)]">Webdesign</h2>
            </div>
            *@

            <Accordion Title="Websites" StartExpanded="true">
               <img src="media/services2.jpg" class="w-full"/>
               <p>A modern website using the world's #1 system for managing your content.</p>
               <ul class="pl-5">
                  <li class="relative before:content-['—'] before:absolute before:-left-5 before:text-black before:dark:text-white">Fastest delivery time</li>
                  <li class="relative before:content-['—'] before:absolute before:-left-5 before:text-black before:dark:text-white">Easy content management</li>
                  <li class="relative before:content-['—'] before:absolute before:-left-5 before:text-black before:dark:text-white">Long term stable</li>
               </ul>
            </Accordion>

            <Accordion Title="Identity Design" StartExpanded="true">
               <img src="media/services1.jpg" class="w-full"/>
               <p>A handcrafted website using only the latest technologies to create an ultra fast and responsive and new home your brand without any compromises.</p>
               <ul class="pl-5">
                  <li class="relative before:content-['—'] before:absolute before:-left-5 before:text-black before:dark:text-white">Highly personalized and detailed design</li>
                  <li class="relative before:content-['—'] before:absolute before:-left-5 before:text-black before:dark:text-white">Easy content management</li>
               </ul>
            </Accordion>

            <Accordion Title="Technical support">
               <p>Got technical issues with your current website?</p>
               <p>We've got you covered, with years of experience working with many different technologies there's no problem we can't fix.</p>
            </Accordion>

            <div class="gsap-line">
                  <h2 class="gsap-line-inner text-sm p-0 m-0 mt-6 mb-3 text-[rgb(145,145,145)]">Audio</h2>
            </div>

            <Accordion Title="Podcast editing">
               <p>Custom copyright-free electronic music for any project or vibe.</p>
            </Accordion>

            <Accordion Title="Sync music">
               <p>Custom copyright-free electronic music for any project or vibe.</p>
            </Accordion>
         </section>

         
         <section class="dark pt-24 mb-0">
            <h1 class="about-first gsap-lines gsap-animate-transition text-4xl tracking-[-0.035em] leading-none">
               <div class="gsap-line">
                  <div class="gsap-line-inner">
                     Studio Insights
                  </div>
               </div>
            </h1>

            <div class="mt-3 border-bottom h-[1px] w-full bg-white"></div>

            <PostCarousel Posts="Posts" />
         </section>

         <footer class="dark my-0 pb-6 flex flex-col items-start space-y-12">
            
            <div class="space-y-6">
               <p class="text-[rgb(145,145,145)] inferi-normal text-3xl leading-none tracking-[-0.015em]">
                  Interested in working with us?
               </p>
               <div>
                  <a class="underline inferi-normal text-3xl leading-none tracking-[-0.015em]">Get in touch<img class="ml-1 h-9 invert inline-block" src="media/conversation_icon.svg"/></a>
                  <span class="inferi-normal text-3xl leading-none tracking-[-0.015em]">&#32;or&#32;</span>
                  <a class="underline inferi-normal text-3xl leading-none tracking-[-0.015em]">check out our company deck<img class="ml-1 h-9 inline-block" src="media/company_deck.svg"/></a>
               </div>
            </div>

            <div class="marquee rotate-12 bottom-24 absolute w-full min-w-full">
               <div class="marquee-content scroll w-full min-w-full">
                  <img class="opacity-10 w-full inline-block" src="media/logo_js.svg" alt="Marquee Logo" />
                  <img class="opacity-10 w-full inline-block" src="media/logo_js.svg" alt="Marquee Logo" />
                  <img class="opacity-10 w-full inline-block" src="media/logo_js.svg" alt="Marquee Logo" />
               </div>
            </div>

            <div class="w-full links gsap-animate-transition relative overflow-hidden">
               <BlazorPortfolio.Components.Links />
            </div>

         </footer>
      </div>
   </div>
</div>

@code {
   private List<(Models.Post Post, int Index)> Posts { get; set; } = new();

   protected override async Task OnAfterRenderAsync(bool firstRender)
   {
      if (firstRender) {
         //await JS.InvokeVoidAsync("pageLoaded");
         while (Posts.Count == 0)
            await Task.Delay(100);

         bool result = await JS.InvokeAsync<bool>("waitForPosts", Posts.Count);

         if (result)
            await JS.InvokeVoidAsync("pageFadeIn");
      }

      await base.OnAfterRenderAsync(firstRender);
   }

   public async Task PostsLoaded() {
      await JS.InvokeVoidAsync("postsLoaded");
   }

   protected override async Task OnInitializedAsync()
   {
      var jsonContent = await HttpClient.GetStringAsync("posts/posts.json");
      var posts = JsonSerializer.Deserialize<List<Models.Post>>(jsonContent);

      if (posts != null)
         Posts = posts.Select((post, i) => ( post, i )).ToList();
   }
}